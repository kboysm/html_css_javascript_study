<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    ghost와 matrix의 title은 private 변수라 생각하기<br>
    title이라는 변수는 get_title,set_title만 접근 가능
    <script>
        function factory_movie(title){
            return{
                get_title : function(){
                    return title;
                },
                set_title : function(_title){
                    title = _title;
                }
            }
        }
        ghost = factory_movie("Ghost in the shell");
        matrix = factory_movie("Matrix");
        console.log(ghost.get_title());
        console.log(matrix.get_title());
        console.log(ghost.set_title("lsm2"));
        console.log(matrix.set_title("lsm1"));
        console.log(ghost.get_title());
        console.log(matrix.get_title());
        //자주 일어나는 실수
        //첫번째 예제는 5가 다섯번 출력됌
        //이유:외부변수의 값이 아니기 때문
        let arr=[];
        for(let i=0; i<5;i++){
            arr[i] = function(id){
               return function (){
                return id;
                }
            }(i);
        }
        //클로저를 활용하여 (i)로 함수를 바로실행하고
        //outter함수에서 id로 i를 받고 inner함수에서 out함수의 지역변수인 id를 리턴시킴
        
        for(let idx in arr){
            console.log(arr[idx]());
        }
    </script>
</body>
</html>